(this["webpackJsonpverif-vater"]=this["webpackJsonpverif-vater"]||[]).push([[0],{205:function(e,t,a){e.exports=a(344)},324:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);a(206),a(237),a(239),a(240),a(242),a(243),a(244),a(246),a(247),a(248),a(249),a(250),a(252),a(253),a(254),a(255),a(256),a(257),a(259),a(260),a(261),a(262),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281);var n,r=a(0),c=a.n(r),l=a(61),o=a.n(l),u=a(17),i=(a(290),a(6)),s=a(42),m=a(49),d=a(350),f=a(349),p=a(351),h=a(352),b=a(87),E=a.n(b),v=[{id:1,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"1",transferred:!1,saved:!1},{id:2,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"2",transferred:!1,saved:!1},{id:3,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"3",transferred:!1,saved:!1},{id:4,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"1",transferred:!1,saved:!1},{id:5,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"2",transferred:!1,saved:!1},{id:5,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"3",apartment:"3",transferred:!1,saved:!1},{id:6,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"3",transferred:!1,saved:!1},{id:7,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"4",transferred:!1,saved:!1},{id:8,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"5",transferred:!1,saved:!1},{id:9,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"6",transferred:!1,saved:!1},{id:10,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"7",transferred:!1,saved:!1},{id:11,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"8",transferred:!1,saved:!1}],g=function(e){var t=e.id,a=Object(r.useState)(v),n=Object(u.a)(a,2),l=n[0],o=n[1],b=Object(r.useState)(!1),g=Object(u.a)(b,2),j=g[0],O=g[1],y=Object(r.useState)(!0),k=Object(u.a)(y,2),w=k[0],S=k[1],C=Object(r.useState)(!0),P=Object(u.a)(C,2),R=(P[0],P[1],Object(r.useState)(!0)),_=Object(u.a)(R,2),x=_[0],L=_[1],T=Object(r.useState)([]),I=Object(u.a)(T,2),M=I[0],A=I[1],N=Object(r.useState)([]),D=Object(u.a)(N,2),z=D[0],F=D[1],V=Object(r.useState)([]),B=Object(u.a)(V,2),J=B[0],U=B[1],W=Object(r.useState)([]),q=Object(u.a)(W,2),H=q[0],G=q[1],K=Object(r.useState)(""),Q=Object(u.a)(K,2),X=Q[0],Y=Q[1],Z=Object(r.useState)(""),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(""),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],le=Object(r.useState)(""),oe=Object(u.a)(le,2),ue=oe[0],ie=oe[1],se=Object(r.useState)(null),me=Object(u.a)(se,2),de=me[0],fe=me[1],pe=Object(r.useState)(""),he=Object(u.a)(pe,2),be=he[0],Ee=he[1],ve=Object(r.useState)(null),ge=Object(u.a)(ve,2),je=ge[0],Oe=ge[1],ye=Object(r.useState)("send"),ke=Object(u.a)(ye,2),we=ke[0],Se=ke[1],Ce=Object(r.useRef)(null),Pe=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=Object(m.a)(new Set(l.map((function(e){return e.city}))));A(e.map((function(e){return{label:e,value:e}})))}),[]);var Re=function(e){console.log(e),Se("send"),ie(e.apartment),fe(e),x&&setTimeout((function(){Pe.current&&Pe.current.click()}),200),console.log(Pe.current)};return c.a.createElement(i.r,{id:t},c.a.createElement(i.m,null,c.a.createElement(i.f,{after:w?c.a.createElement(d.a,null):c.a.createElement(f.a,null),onClick:function(){return S(!w)}},"\u041b\u043e\u043a\u0430\u0442\u043e\u0440"),c.a.createElement(E.a,{height:w?"auto":0},c.a.createElement(i.k,{top:"\u0413\u043e\u0440\u043e\u0434"},c.a.createElement(i.t,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",searchable:"true",options:M,value:X,onChange:function(e){var t=e.target.value,a=l.filter((function(e){return e.city===t})),n=Object(m.a)(new Set(a.map((function(e){return e.street}))));F(n.map((function(e){return{label:e,value:e}}))),Y(t),te(""),ce(""),ie("")}})),""!==X&&c.a.createElement(i.k,{top:"\u0423\u043b\u0438\u0446\u0430"},c.a.createElement(i.t,{disabled:""===X,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443",searchable:"true",options:z,value:ee,onChange:function(e){var t=e.target.value,a=l.filter((function(e){return e.city===X&&e.street===t})),n=Object(m.a)(new Set(a.map((function(e){return e.house}))));U(n),te(t),ce(""),ie("")}})),""!==ee&&c.a.createElement(i.k,{top:"\u0414\u043e\u043c"},c.a.createElement(i.n,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120}},c.a.createElement(i.x,{mode:"buttons",style:{display:"flex"}},J.map((function(e){return c.a.createElement("div",{className:"mh4",key:e},c.a.createElement(i.y,{selected:e===re,onClick:function(){return function(e){var t=l.filter((function(t){return t.city===X&&t.street===ee&&t.house===e}));G(t),ce(e),ie("")}(e)}},e))})))))),""!==re&&c.a.createElement(i.k,{top:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"},c.a.createElement(i.n,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120}},c.a.createElement(i.x,{mode:"buttons",style:{display:"flex"}},H.filter((function(e){return!e.transferred})).map((function(e){return c.a.createElement("div",{className:"mh4",key:e.id},c.a.createElement(i.y,{selected:e.apartment===ue,onClick:function(){return Re(e)}},e.apartment))})),H.filter((function(e){return e.transferred})).map((function(e){return c.a.createElement("div",{className:"mh4",key:e.id},c.a.createElement(i.y,{selected:e.apartment===ue,onClick:function(){return Re(e)},after:c.a.createElement(p.a,{style:{color:"var(--accent)"}})},e.apartment))}))))),""!==ue&&c.a.createElement(i.i,null,c.a.createElement(i.j,{getRef:Pe,id:"btnPhoto",before:c.a.createElement(h.a,null),controlSize:"l",stretched:!0,accept:"image/*",capture:"camera",onChange:function(e){if(console.log(e.target.files),e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){Oe(t.result),Ce&&Ce.current&&Ce.current.focus()})),t.readAsDataURL(e.target.files[0])}}},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e")),je&&c.a.createElement(i.i,null,c.a.createElement(i.d,null,c.a.createElement("div",{style:{height:200,backgroundImage:'url("'+je+'")',backgroundSize:"cover",backgroundPosition:"center",borderRadius:8}}))),""!==ue&&c.a.createElement(i.i,{style:{display:"flex"}},c.a.createElement(i.o,{value:be,onChange:function(e){return Ee(e.target.value)},type:"number",inputMode:"decimal",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u0435",style:{width:"100%"},getRef:Ce}),c.a.createElement(i.B,{mode:we,disabled:0===be.length,onClick:function(){console.log("sendValMeter"),Ee(""),Se("done");var e=[];l.forEach((function(t){t.id===de.id?e.push(Object(s.a)(Object(s.a)({},t),{},{transferred:!0})):e.push(Object(s.a)({},t))})),o(e);var t=e.filter((function(e){return e.city===X&&e.street===ee&&e.house===re}));G(t)}})),c.a.createElement(i.k,null,c.a.createElement(i.g,{checked:x,onChange:function(e){return L(e.target.checked)}},"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u0430\u043c\u0435\u0440\u044b")),""!==ue&&c.a.createElement(c.a.Fragment,null,c.a.createElement(i.f,{after:j?c.a.createElement(d.a,null):c.a.createElement(f.a,null),onClick:function(){return O(!j)}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"),c.a.createElement(E.a,{height:j?"auto":0},c.a.createElement(i.k,{top:"\u0422\u0438\u043f \u041f\u0423"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043f \u041f\u0423"})),c.a.createElement(i.k,{top:"\u041d\u043e\u043c\u0435\u0440 \u041f\u0423"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u041f\u0423"})),c.a.createElement(i.k,{top:"\u0413\u043e\u0434 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"},c.a.createElement(i.t,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434 \u043f\u043e\u0432\u0435\u0440\u043a\u0438",searchable:"true",options:Object(m.a)(Array(23).keys()).map((function(e){return{label:(2e3+e).toString(),value:(2e3+e).toString()}}))})),c.a.createElement(i.k,{top:"\u041a\u043b\u0430\u0441\u0441 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438"},c.a.createElement(i.t,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438",searchable:"true",options:[{label:"1.0",value:"1.0"},{label:"2.0",value:"2.0"},{label:"2.5",value:"2.5"},{label:"5.0",value:"5.0"}]})),c.a.createElement(i.k,{top:"\u0417\u043d\u0430\u0447\u043d\u043e\u0441\u0442\u044c"},c.a.createElement(i.t,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u043d\u043e\u0441\u0442\u044c",searchable:"true",options:[{label:"1",value:"1"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}]})),c.a.createElement(i.e,{disabled:!0,after:c.a.createElement(i.w,{"aria-label":"\u041f\u043b\u043e\u043c\u0431\u0430 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"})},"\u041f\u043b\u043e\u043c\u0431\u0430 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"),c.a.createElement(i.e,{disabled:!0,after:c.a.createElement(i.w,{"aria-label":"\u041f\u043b\u043e\u043c\u0431\u0430 \u042d\u0421\u041e"})},"\u041f\u043b\u043e\u043c\u0431\u0430 \u042d\u0421\u041e"),c.a.createElement(i.e,{disabled:!0,after:c.a.createElement(i.w,{"aria-label":"\u0410\u043d\u0442\u0438\u043c\u0430\u0433\u043d\u0438\u0442\u043d\u0430\u044f"})},"\u0410\u043d\u0442\u0438\u043c\u0430\u0433\u043d\u0438\u0442\u043d\u0430\u044f"),c.a.createElement(i.k,{top:"\u0414\u0430\u0442\u0430"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",value:(new Date).toLocaleDateString("ru-RU"),onChange:function(){}})),c.a.createElement(i.k,{top:"\u041c\u0435\u0441\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"})),c.a.createElement(i.k,{top:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"}))))))},j=a(48),O=a(19),y=(n={},Object(j.a)(n,"/",new O.Page("panel_main","view_main")),Object(j.a)(n,"/auth",new O.Page("panel_auth","view_main")),n),k=new O.Router(y);k.onEnterPage("/",(function(){console.log("\u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")})),k.on("update",(function(e,t){e.getPageId(),e.getParams(),e.getPanelId(),e.getViewId(),e.getLocation(),e.isModal(),e.isPopup(),e.hasOverlay(),t?console.log("move from page ".concat(t.getLocation()," -> ").concat(e.getLocation())):console.log("enter to page ".concat(e.getLocation()))})),k.start();a(324);var w=a(88),S=a.n(w),C=a(137),P=a(89),R=a.n(P),_="https://ibronevik.ru/taxi/api/v1/",x=function(e,t){for(var a=0,n=Object.entries(t);a<n.length;a++){var r=Object(u.a)(n[a],2),c=r[0],l=r[1];l&&e.append(c,l)}return e},L=function(e){var t=new FormData;return x(t,Object(s.a)(Object(s.a)({},e),{},{type:"e-mail"})),R.a.post(_+"auth",t).then((function(e){return e.data})).then((function(e){if(e.auth_hash){var t=new FormData;return x(t,{auth_hash:e.auth_hash}),R.a.post(_+"token",t).then((function(e){return e.data})).then((function(e){return e.data?e.data:e}))}return e})).catch((function(e){return{message:"Network error"}}))},T=function(e){var t=e.id,a=e.setModalErrorText,n=Object(r.useState)(""),l=Object(u.a)(n,2),o=l[0],s=l[1],m=Object(r.useState)(""),d=Object(u.a)(m,2),f=d[0],p=d[1],h=Object(O.useRouter)(),b=function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({login:o,password:f});case 2:(t=e.sent).message?(a(t.message),h.pushModal("modal_error")):(localStorage.setItem("token",t.token),localStorage.setItem("u_hash",t.u_hash),h.replacePage("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(i.r,{id:t},c.a.createElement(i.s,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),c.a.createElement(i.m,null,c.a.createElement(i.l,null,c.a.createElement(i.k,{top:"\u041b\u043e\u0433\u0438\u043d"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",value:o,onChange:function(e){return s(e.target.value)}})),c.a.createElement(i.k,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},c.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",value:f,onChange:function(e){return p(e.target.value)}})),c.a.createElement(i.i,null,c.a.createElement(i.c,{type:"submit",stretched:!0,size:"l",onClick:b,disabled:0===o.length||0===f.length},"\u0412\u043e\u0439\u0442\u0438")))))};function I(e){var t=e.id,a=e.modalErrorText,n=Object(O.useRouter)();return c.a.createElement(i.p,{id:t,onClose:function(){return n.popPage()},header:"Error",subheader:a})}var M=function(){var e=Object(O.useLocation)(),t=Object(O.useRouter)(),a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],o=n[1],s=c.a.createElement(i.q,{activeModal:e.getModalId(),onClose:function(){return t.popPage()}},c.a.createElement(I,{id:"modal_error",onClose:function(){return t.popPage()},modalErrorText:l}));return c.a.createElement(i.h,{webviewType:i.A.INTERNAL},c.a.createElement(i.a,null,c.a.createElement(i.b,null,c.a.createElement(i.v,{modal:s,style:{justifyContent:"center"}},c.a.createElement(i.u,{maxWidth:800,spaced:window.innerWidth>800},c.a.createElement(i.z,{id:"view_main",onSwipeBack:function(){return t.popPage()},history:e.hasOverlay()?[]:e.getViewHistory("view_main"),activePanel:e.getViewActivePanel("view_main")},c.a.createElement(g,{id:"panel_main"}),c.a.createElement(T,{id:"panel_auth",setModalErrorText:o})))))))};o.a.render(c.a.createElement(O.RouterContext.Provider,{value:k},c.a.createElement(M,null)),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.5098dced.chunk.js.map