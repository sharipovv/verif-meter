(this["webpackJsonpverif-vater"]=this["webpackJsonpverif-vater"]||[]).push([[0],{210:function(e,t,a){e.exports=a(361)},342:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);a(211),a(242),a(244),a(245),a(247),a(248),a(249),a(251),a(252),a(253),a(254),a(255),a(257),a(258),a(259),a(260),a(261),a(262),a(264),a(265),a(266),a(267),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(283),a(284),a(285),a(286);var n,r=a(0),l=a.n(r),c=a(61),o=a.n(c),u=a(17),i=(a(295),a(4)),s=a(45),m=a(367),d=a(368),E=a(366),h=a(369),p=a(88),b=a.n(p),f=a(44),g=a.n(f),j=a(63),v=(a(139),a(323),a(140)),O=a.n(v),y=[{id:1,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"1"},{id:2,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"2"},{id:3,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u0427\u0435\u0440\u043d\u044b\u0448\u0435\u0432\u0441\u043a\u043e\u0433\u043e",house:"22",apartment:"3"},{id:4,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"2"},{id:5,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"2",apartment:"3"},{id:5,city:"\u0412\u043e\u0440\u043e\u043d\u0435\u0436",street:"\u041f\u043e\u0431\u0435\u0434\u044b",house:"3",apartment:"3"}],w=function(e){var t=e.id,a=Object(r.useState)(!1),n=Object(u.a)(a,2),c=n[0],o=n[1],p=Object(r.useState)(!0),f=Object(u.a)(p,2),g=f[0],j=f[1],v=Object(r.useState)(!0),w=Object(u.a)(v,2),S=w[0],k=w[1],C=Object(r.useState)(!0),x=Object(u.a)(C,2),P=x[0],_=x[1],R=Object(r.useState)([]),L=Object(u.a)(R,2),T=L[0],I=L[1],z=Object(r.useState)([]),A=Object(u.a)(z,2),M=A[0],N=A[1],D=Object(r.useState)([]),B=Object(u.a)(D,2),F=B[0],V=B[1],J=Object(r.useState)([]),U=Object(u.a)(J,2),W=U[0],q=U[1],H=Object(r.useState)(""),Q=Object(u.a)(H,2),G=Q[0],K=Q[1],X=Object(r.useState)(""),Y=Object(u.a)(X,2),Z=Y[0],$=Y[1],ee=Object(r.useState)(""),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(""),le=Object(u.a)(re,2),ce=le[0],oe=le[1],ue=Object(r.useState)(null),ie=Object(u.a)(ue,2),se=(ie[0],ie[1]),me=Object(r.useState)(null),de=Object(u.a)(me,2),Ee=(de[0],de[1],Object(r.useRef)(null)),he=Object(r.useState)(null),pe=Object(u.a)(he,2),be=pe[0],fe=pe[1];Object(r.useEffect)((function(){var e=Object(s.a)(new Set(y.map((function(e){return e.city}))));I(e.map((function(e){return{label:e,value:e}})))}),[]);var ge=Object(r.useCallback)((function(){var e=Ee.current.getScreenshot();fe(e)}),[Ee,fe]);return l.a.createElement(i.r,{id:t},l.a.createElement(i.s,{left:l.a.createElement(i.t,null,l.a.createElement(m.a,null))},"\u0421\u044a\u0451\u043c"),l.a.createElement(i.m,null,l.a.createElement(i.e,{after:g?l.a.createElement(d.a,null):l.a.createElement(E.a,null),onClick:function(){return j(!g)}},"\u041b\u043e\u043a\u0430\u0442\u043e\u0440"),l.a.createElement(b.a,{height:g?"auto":0},l.a.createElement(i.j,{top:"\u0413\u043e\u0440\u043e\u0434"},l.a.createElement(i.u,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",searchable:"true",options:T,value:G,onChange:function(e){var t=e.target.value,a=y.filter((function(e){return e.city===t})),n=Object(s.a)(new Set(a.map((function(e){return e.street}))));N(n.map((function(e){return{label:e,value:e}}))),K(t),$(""),ne(""),oe("")}})),""!==G&&l.a.createElement(i.j,{top:"\u0423\u043b\u0438\u0446\u0430"},l.a.createElement(i.u,{disabled:""===G,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043b\u0438\u0446\u0443",searchable:"true",options:M,value:Z,onChange:function(e){var t=e.target.value,a=y.filter((function(e){return e.city===G&&e.street===t})),n=Object(s.a)(new Set(a.map((function(e){return e.house}))));V(n),$(t),ne(""),oe("")}})),""!==Z&&l.a.createElement(i.j,{top:"\u0414\u043e\u043c"},l.a.createElement(i.n,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120}},l.a.createElement(i.y,{mode:"buttons",style:{display:"flex"}},F.map((function(e){return l.a.createElement("div",{className:"mv4",key:e},l.a.createElement(i.z,{selected:e===ae,onClick:function(){return function(e){var t=y.filter((function(t){return t.city===G&&t.street===Z&&t.house===e})),a=Object(s.a)(new Set(t.map((function(e){return e.apartment}))));q(a),ne(e),oe("")}(e)}},e))})))))),""!==ae&&l.a.createElement(i.j,{top:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"},l.a.createElement(i.n,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120}},l.a.createElement(i.y,{mode:"buttons",style:{display:"flex"}},W.map((function(e){return l.a.createElement("div",{className:"mv4",key:e},l.a.createElement(i.z,{selected:e===ce,onClick:function(){return t=e,console.log(t),oe(t),void(P&&document.getElementById("btnPhoto").click());var t}},e))}))))),l.a.createElement(i.j,null,l.a.createElement(i.l,null,"1 \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u043a\u0430\u043c\u0435\u0440\u0430, \u0447\u0435\u043a\u0431\u043e\u043a\u0441 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b")),l.a.createElement(i.h,{style:{display:"flex"}},l.a.createElement(i.i,{id:"btnPhoto",before:l.a.createElement(h.a,null),controlSize:"l",stretched:!0,accept:"image/*",capture:"camera",style:{marginRight:8},onChange:function(e){if(console.log(e.target.files),e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return se(t.result)})),t.readAsDataURL(e.target.files[0])}}},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"),l.a.createElement(i.c,{className:"btnText",before:l.a.createElement(h.a,null),size:"l",mode:"secondary",stretched:!0,disabled:!0},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u043e\u0442\u043e")),l.a.createElement(i.j,null,l.a.createElement(i.l,null,'2 \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0412\u0441\u0435\u0433\u0434\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0430\u044f "\u0432\u0435\u0431-\u043a\u0430\u043c\u0435\u0440\u0430". \u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u043a \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435. ')),l.a.createElement(O.a,{ref:Ee,style:{width:"100%"},audio:!1,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment"},screenshotQuality:1}),l.a.createElement(i.h,null,l.a.createElement(i.c,{before:l.a.createElement(h.a,null),size:"l",stretched:!0,onClick:ge},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e")),be&&l.a.createElement("a",{href:be,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:be})),l.a.createElement(i.j,{top:"\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u0435"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u0435"})),l.a.createElement(i.j,null,l.a.createElement(i.c,{size:"l",stretched:!0},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),l.a.createElement(i.j,null,l.a.createElement(i.f,{checked:P,onChange:function(e){return _(e.target.checked)}},"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u043a\u0430\u043c\u0435\u0440\u044b"),l.a.createElement(i.f,null,"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0435"),l.a.createElement(i.f,{checked:S,onChange:function(e){return k(e.target.checked)}},"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u043e\u0442\u043e")),l.a.createElement(i.e,{after:c?l.a.createElement(d.a,null):l.a.createElement(E.a,null),onClick:function(){return o(!c)}},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f"),l.a.createElement(b.a,{height:c?"auto":0},l.a.createElement(i.j,{top:"\u0422\u0438\u043f \u041f\u0423"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043f \u041f\u0423"})),l.a.createElement(i.j,{top:"\u041d\u043e\u043c\u0435\u0440 \u041f\u0423"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u041f\u0423"})),l.a.createElement(i.j,{top:"\u0413\u043e\u0434 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"},l.a.createElement(i.u,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434 \u043f\u043e\u0432\u0435\u0440\u043a\u0438",searchable:"true",options:Object(s.a)(Array(23).keys()).map((function(e){return{label:(2e3+e).toString(),value:(2e3+e).toString()}}))})),l.a.createElement(i.j,{top:"\u041a\u043b\u0430\u0441\u0441 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438"},l.a.createElement(i.u,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0430\u0441\u0441 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438",searchable:"true",options:[{label:"1.0",value:"1.0"},{label:"2.0",value:"2.0"},{label:"2.5",value:"2.5"},{label:"5.0",value:"5.0"}]})),l.a.createElement(i.j,{top:"\u0417\u043d\u0430\u0447\u043d\u043e\u0441\u0442\u044c"},l.a.createElement(i.u,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u043d\u043e\u0441\u0442\u044c",searchable:"true",options:[{label:"1",value:"1"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}]})),l.a.createElement(i.d,{disabled:!0,after:l.a.createElement(i.x,{"aria-label":"\u041f\u043b\u043e\u043c\u0431\u0430 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"})},"\u041f\u043b\u043e\u043c\u0431\u0430 \u043f\u043e\u0432\u0435\u0440\u043a\u0438"),l.a.createElement(i.d,{disabled:!0,after:l.a.createElement(i.x,{"aria-label":"\u041f\u043b\u043e\u043c\u0431\u0430 \u042d\u0421\u041e"})},"\u041f\u043b\u043e\u043c\u0431\u0430 \u042d\u0421\u041e"),l.a.createElement(i.d,{disabled:!0,after:l.a.createElement(i.x,{"aria-label":"\u0410\u043d\u0442\u0438\u043c\u0430\u0433\u043d\u0438\u0442\u043d\u0430\u044f"})},"\u0410\u043d\u0442\u0438\u043c\u0430\u0433\u043d\u0438\u0442\u043d\u0430\u044f"),l.a.createElement(i.j,{top:"\u0414\u0430\u0442\u0430"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",value:(new Date).toLocaleDateString("ru-RU"),onChange:function(){}})),l.a.createElement(i.j,{top:"\u041c\u0435\u0441\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"})),l.a.createElement(i.j,{top:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"})),l.a.createElement(i.j,null,l.a.createElement(i.c,{size:"l",stretched:!0},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))},S=a(49),k=a(19),C=(n={},Object(S.a)(n,"/",new k.Page("panel_main","view_main")),Object(S.a)(n,"/auth",new k.Page("panel_auth","view_main")),n),x=new k.Router(C);x.onEnterPage("/",(function(){console.log("\u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443")})),x.on("update",(function(e,t){e.getPageId(),e.getParams(),e.getPanelId(),e.getViewId(),e.getLocation(),e.isModal(),e.isPopup(),e.hasOverlay(),t?console.log("move from page ".concat(t.getLocation()," -> ").concat(e.getLocation())):console.log("enter to page ".concat(e.getLocation()))})),x.start();a(342);var P=a(89),_=a(90),R=a.n(_),L="https://ibronevik.ru/taxi/api/v1/",T=function(e,t){for(var a=0,n=Object.entries(t);a<n.length;a++){var r=Object(u.a)(n[a],2),l=r[0],c=r[1];c&&e.append(l,c)}return e},I=function(e){var t=new FormData;return T(t,Object(P.a)(Object(P.a)({},e),{},{type:"e-mail"})),R.a.post(L+"auth",t).then((function(e){return e.data})).then((function(e){if(e.auth_hash){var t=new FormData;return T(t,{auth_hash:e.auth_hash}),R.a.post(L+"token",t).then((function(e){return e.data})).then((function(e){return e.data?e.data:e}))}return e})).catch((function(e){return{message:"Network error"}}))},z=function(e){var t=e.id,a=e.setModalErrorText,n=Object(r.useState)(""),c=Object(u.a)(n,2),o=c[0],s=c[1],m=Object(r.useState)(""),d=Object(u.a)(m,2),E=d[0],h=d[1],p=Object(k.useRouter)(),b=function(){var e=Object(j.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({login:o,password:E});case 2:(t=e.sent).message?(a(t.message),p.pushModal("modal_error")):(localStorage.setItem("token",t.token),localStorage.setItem("u_hash",t.u_hash),p.replacePage("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(i.r,{id:t},l.a.createElement(i.s,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),l.a.createElement(i.m,null,l.a.createElement(i.k,null,l.a.createElement(i.j,{top:"\u041b\u043e\u0433\u0438\u043d"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",value:o,onChange:function(e){return s(e.target.value)}})),l.a.createElement(i.j,{top:"\u041f\u0430\u0440\u043e\u043b\u044c"},l.a.createElement(i.o,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",value:E,onChange:function(e){return h(e.target.value)}})),l.a.createElement(i.h,null,l.a.createElement(i.c,{type:"submit",stretched:!0,size:"l",onClick:b,disabled:0===o.length||0===E.length},"\u0412\u043e\u0439\u0442\u0438")))))};function A(e){var t=e.id,a=e.modalErrorText,n=Object(k.useRouter)();return l.a.createElement(i.p,{id:t,onClose:function(){return n.popPage()},header:"Error",subheader:a})}var M=function(){var e=Object(k.useLocation)(),t=Object(k.useRouter)(),a=Object(r.useState)(""),n=Object(u.a)(a,2),c=n[0],o=n[1],s=l.a.createElement(i.q,{activeModal:e.getModalId(),onClose:function(){return t.popPage()}},l.a.createElement(A,{id:"modal_error",onClose:function(){return t.popPage()},modalErrorText:c}));return l.a.createElement(i.g,{webviewType:i.B.INTERNAL},l.a.createElement(i.a,null,l.a.createElement(i.b,null,l.a.createElement(i.w,{modal:s,style:{justifyContent:"center"}},l.a.createElement(i.v,{maxWidth:800,spaced:window.innerWidth>800},l.a.createElement(i.A,{id:"view_main",onSwipeBack:function(){return t.popPage()},history:e.hasOverlay()?[]:e.getViewHistory("view_main"),activePanel:e.getViewActivePanel("view_main")},l.a.createElement(w,{id:"panel_main"}),l.a.createElement(z,{id:"panel_auth",setModalErrorText:o})))))))};o.a.render(l.a.createElement(k.RouterContext.Provider,{value:x},l.a.createElement(M,null)),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.f4ee26d5.chunk.js.map